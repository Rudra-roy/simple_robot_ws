costmap:
  costmap:
    ros__parameters:
      # Frame settings
      global_frame_id: odom
      base_frame_id: camera_depth
      
      # Update frequencies
      update_frequency: 50.0     # Process point clouds at 50Hz
      publish_frequency: 30.0     # Publish costmap at 30Hz (prevents RViz overflow)
      
      # Map settings
      width: 500
      height: 500
      resolution: 0.05
      origin_x: 0.0
      origin_y: 0.0
      
      # Layer settings
      use_static_map: false
      track_unknown_space: true
      
      # Point cloud topic
      point_cloud_topic: /camera/points
      costmap_topic: /costmap
      static_map_topic: /map
      
      # Obstacle layer configuration
      obstacle_max_range: 20.0   # Max sensor range
      obstacle_min_range: 0.3    # Min sensor range
      
      # Ground filtering (CRITICAL for depth cameras)
      min_obstacle_z: 0.25       # Ignore ground: points below 10cm
      max_obstacle_z: 4.00       # Ignore ceiling: points above 2m
      
      # Inflation layer configuration
      inflation_radius: 0.3
      cost_scaling_factor: 5.0
